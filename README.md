#  - Домашнее задание к занятию «Репликация и масштабирование. Часть 2» `Шиянов Михаил Николаевич`

---


### Задание 1:

##Активный master-сервер и пассивный slave-сервер


Есть один основной сервер (master), который принимает все записи и изменения.
Есть запасной сервер (slave), который получает копии данных, но сам не работает с запросами пользователей.

Преимущества:


1. Данные не пропадут, Slave постоянно получает копию данных, поэтому информация сохраняется.

2. Простая настройка


###Master-сервер и несколько Slave-серверов

Преимущества:

1. Масштабирование чтения
Можно распределить запросы на чтение между несколькими slave.
Чем больше slave — тем выше скорость работы сайта или приложения.

2. Меньше нагрузки на master
Master занимается только записями, а всё остальное уходит на slave.

3. Повышенная отказоустойчивость
Если один slave упал — есть другие.
Даже если упал master, можно поднять один из slave как новый master.

4. Быстрее работа для пользователей
Запросы на чтение могут обслуживаться из ближайшего или менее загруженного сервера.




### Задание 2:

Таблицы содержат:

Пользователи (users): id, name, email, region, registration date

Книги (books): id, title, author, genre, publisher

Магазины (stores): id, name, location, type, capacity

### Вертикальный шаринг

Server_01 (Пользовательские данные):
- Таблица: users (операции с профилями, аутентификация)

Server_02 (Каталог товаров):
- Таблица: books (поиск, фильтры)

Server_03 (Операционные данные):
- Таблица: stores (управление магазинами, логистика)

### Горизонтальный шаринг

### Таблица users:

Ключ шаринга: region (географический регион)

Количество шардов: 4 

Распределение: 

Север, Юг, Запад, Восток


### Таблица books:

Ключ шаринга: genre (жанр книги)

Количество шардов: 3

Распределение:

Шард 1: Художественная литература

Шард 2: Научная/образовательная

Шард 3: Другое (справочники, документация)


### Таблица stores:

Ключ шаринга: location (город)

Количество шардов: 3

Москва

Санкт-Петербург

Регионы 


### блок схема

                                 |КЛИЕНТСКИЕ ПРИЛОЖЕНИЯ|                                                                               
                                            |  
                                            |  
                                        |ProxySQL|

                           |                |                   |
                      ___________       ___________       ___________
                      |Server_01|       |Server_02|       |Server_03|
                      |  Users  |       |  Books  |       | Stores  |
                      ___________       ___________       ___________
                      | Shard_A |       | Shard_A |       | Shard_A |
                      |  Nord   |       | genre_1 |       |  City_M | 
                      ___________       ___________       ___________ 
                      | Shard_B |       | Shard_B |       | Shard_B |
                      |  South  |       | genre_2 |       | City_SP |
                      ___________       ___________       ___________
                      | Shard_C |       | Shard_C |       | Shard_C |
                      |  West   |       | genre_3 |       | City_R  |
                      ___________
                      | Shard_D |
                      |  East   |       
                      ___________


Режим Master–Slave будет использоваться для каждого шарда. 





